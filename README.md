# ðŸ‘Ÿ Adidas Sales Project 

Project for the analysis of sales data from Adidas in the US using PostgreSQL for in-depth analysis, followed by Tableau for comprehensive data visualization.

## Background
Sales are a fundamental aspect of any business. 

It's a direct link to a company's revenue as it offers insights into what's working, what's not, and where a company can improve. But also it gives you a clue of where your most loyal customers are.

In this project, we'll analyze two tables repurposed from the [Adidas Sales Dataset](https://www.kaggle.com/datasets/heemalichaudhari/adidas-sales-dataset) in Kraggle to answer the following questions:

1. What is the revenue generated by each product, ranked from highest to lowest?
2. What are the top three products on highest demand in terms of quantity? and which ones are the lowest?
3. Which retailers have the most sales per state?
4. Are there any interesting patterns as to when customers buy more products in terms of seasonality?

By correlating insights from this sales data with marketing efforts, Adidas can allocate marketing budgets more effectively.

**NOTE: The methodology section provides the project's background. Within the results, you'll find code snippets and data outputs from PostgreSQL. The data visualization segment showcases the Tableau dashboard. And finally, the findings section gives you comprehensive answers to the project questions along with recommendations**

## ðŸ“Š Methodoly

I started off with two Excel files. 

The first Excel file, Adidas US Sales (as its name suggests), had information on transaction id, retailer, retailer id, invoice date, product, prices per unit, units sold, and sales method. 

The second Excel file, Adidas US Locations, had information on transaction id, region, state, and city. 

It was clear from the beginning that I had to import both of these files to PostgreSQL as tables to join them as one. This would help further analysis to answer questions that had to do with the states that generated the most sales as well as trends.

Here's the step-by-step of the methodology I followed:

### Creating empty tables

In order to import the information on the Excel files into PostgreSQL, I had to create an empty table for each Excel sheet, that contained the same column name of the headers while keeping in mind the data type, and column constraints.

I created the first table "adidas_sales" with the following code:

```
CREATE TABLE adidas_sales (
	transaction_id SERIAL PRIMARY KEY,
	retailer VARCHAR(50) NOT NULL,
	retailer_id INTEGER NOT NULL,
	invoice_date TIMESTAMP NOT NULL,
	product VARCHAR(50) NOT NULL,
	price_per_unit INTEGER NOT NULL,
	units_sold INTEGER NOT NULL,
	sales_method VARCHAR(50) NOT NULL
);
```

Then the second empty table "locations"

```
CREATE TABLE locations (
	transaction_id INTEGER REFERENCES adidas_sales(transaction_id)
	region VARCHAR(25) NOT NULL,
	state VARCHAR(25) NOT NULL,
	city VARCHAR(25) NOT NULL
);
```

Once I created both tables I refreshed the database and selected everything (SELECT *) from each table to check if the names of the columns with no information were there. Then I saved the two Excel files as CVS files and imported them into their corresponding table in PostgreSQL.

A quick **SELECT * FROM** adidas_sales and locations showed me that all the information was there!

### Joining tables

The information I need to solve all the questions above is in both adidas_sales and locations. Since both of these have the transaction_id column in common, I can use the command **INNER JOIN** to analyze data from one table.


```
SELECT * FROM adidas_sales
INNER JOIN locations
ON adidas_sales.transaction_id = locations.transaction_id;
```

With this "master" table we can go ahead and perform more specific commands to solve the questions for this project.

## ðŸ’¡ Results

### What is the revenue generated by each product, ranked from highest to lowest?

To find the revenue generated for each product I have to multiply the price per unit by the units sold and create a new column with the name "total_sales". Also, by reviewing the product data and using the command **DISTINCT** I can tell that there are six main categories of products which are:

- "Men's Street Footwear"
- "Women's Athletic Footwear"
- "Men's Athletic Footwear"
- "Women's Apparel"
- "Women's Street Footwear"
- "Men's Apparel"

This means that before I order the revenue generated by product (or category of product) I'll have to group by product.

If I want to both calculate the total sales for each product and group by the product, I'll have to use a subquery to first calculate the total sales, and then perform the grouping.

Here's the SQL query for that:

```
SELECT product, SUM(total_sales) AS total_sales
FROM (SELECT adidas_sales.product,
    (adidas_sales.price_per_unit * adidas_sales.units_sold) AS total_sales
  FROM adidas_sales
  INNER JOIN locations
  ON adidas_sales.transaction_id = locations.transaction_id
) AS subquery
GROUP BY product
ORDER BY total_sales DESC;
```

And this is the data output:

<img width="233" alt="image" src="https://github.com/jjansasoy/adidas_sales/assets/63824959/d01ffc93-8d75-4935-b78f-e567bda8d99e">

### What are the top three products on highest demand in terms of quantity?

In this case, I'll have to use an aggregate function (again) to create a new column called total_units_sold, then group by product and order by the new column.

Here's the SQL query:

```
SELECT product, SUM(units_sold) AS total_units_sold FROM adidas_sales
INNER JOIN locations
ON adidas_sales.transaction_id = locations.transaction_id
GROUP BY product
ORDER BY total_units_sold DESC
LIMIT 3;
```

And the data output:

<img width="240" alt="image" src="https://github.com/jjansasoy/adidas_sales/assets/63824959/6f7cb32f-6c5d-4a1f-b31a-28f045cb073b">

### Which retailers have the most sales per state?

To answer this question, I'll need to perform the following steps:

1. Calculate the total sales for each retailer and state combination
2. Rank the retailers within each state based on their total sales
3. Select the retailer with the highest total sales in each state

Here's the SQL query for that:

```
WITH retailer_state_sales AS (
  SELECT locations.state, adidas_sales.retailer,
    SUM(adidas_sales.price_per_unit * adidas_sales.units_sold) AS total_sales
  FROM adidas_sales
  INNER JOIN locations
  ON adidas_sales.transaction_id = locations.transaction_id
  GROUP BY locations.state, adidas_sales.retailer
),
ranked_retailers AS (
  SELECT state, retailer, total_sales,
    ROW_NUMBER() OVER (PARTITION BY state ORDER BY total_sales DESC) AS rank
  FROM retailer_state_sales
)
SELECT state, retailer, total_sales
FROM ranked_retailers
WHERE rank = 1;
```
And here's a screenshot of the retailers with the most sales in the first 10 states by alphabetical order:

<img width="329" alt="image" src="https://github.com/jjansasoy/adidas_sales/assets/63824959/3c422160-30b4-41d7-b369-75baa95022cc">

### Are there any interesting patterns as to when customers buy more products in terms of seasonality?

To answer this question, it would be more helpful to have a dashboard in Tableau that allowed us to see these trends in seasonality (more on that in the following section ðŸ˜‰). For now, I can analyze the seasonality of sales by grouping the sales data by seasons (winter, spring, summer, and fall). Then you can calculate the total sales for each season.

Here's the SQL query:

```
SELECT 
  CASE 
    WHEN EXTRACT(MONTH FROM invoice_date) IN (12, 1, 2) THEN 'Winter'
    WHEN EXTRACT(MONTH FROM invoice_date) IN (3, 4, 5) THEN 'Spring'
    WHEN EXTRACT(MONTH FROM invoice_date) IN (6, 7, 8) THEN 'Summer'
    WHEN EXTRACT(MONTH FROM invoice_date) IN (9, 10, 11) THEN 'Fall'
  END AS season, SUM(price_per_unit * units_sold) AS total_sales
FROM adidas_sales
GROUP BY season
ORDER BY total_sales;
```

And here's the data output:

<img width="164" alt="image" src="https://github.com/jjansasoy/adidas_sales/assets/63824959/d145023a-c124-41fe-b0a6-ef2081ff10d9">


## âœ¨ Data Visualization in Tableau


## ðŸ§  Findings
